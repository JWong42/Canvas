<%= render 'shared/flash_messages' %>
<h1 class="canvas">Canvas</h1>
<div class="container canvas-info">
  <div class="canvas-name"><p>Name: <span class="name"><%= @canvas.name  %></span></p></div>
  <div class="tags">
      <a href='#' id='labels' rel='popover'><p>Labels:</p></a>
      <div class="hypothesis"><div class="box"><span>hypothesis<span></div></div>
      <div class="validated"><div class="box"><span>validated</span></div></div>
      <div class="invalidated"><div class="box"><span>invalidated</span></div></div>
  </div>
</div> 
<div id="canvas-table"> 
  <table class="canvas"> 
    <tbody>
      <tr> 
        <td class="area" id="problems" rowspan="2">
          <div class="header">
            <a href='#' class='pop-over' id='problems' rel='popover'><h4>Problems</h4></a>
          </div>
          <div class="items" id="three">   <!-- id: one - unique value proposition, two - cost structure & revenue streams, three - the rest --> 
            <ul>
              <% @canvas.problems.each do |problem| %> 
                <div class="item-container">
                  <div class="item">
                    <li style="color: <%= problem.tag_color %>" data-id=<%= problem.id %>><%= problem.content %></li>
                  </div>
                  <div class="item-options">
                    <a href='#' rel="tooltip" title="Change Label" class="switch-color"><i class="icon-tag"></i></a>
                    <a href='#' rel="tooltip" title="Delete Item" class="remove-item"><i class="icon-remove"></i></a>
                  </div>
                </div>
              <% end %>
            </ul>
          </div>
        </td>
        <td class="area" id="key_activities">
          <div class="header">
            <a href='#' class='pop-over' id='key-activities' rel='popover'><h4>Key Activities<h4></a>
          </div>
          <div class="items b" id="three">
            <ul>
              <% @canvas.key_activities.each do |key_activity| %> 
                <div class="item-container">
                  <div class="item">
                    <li style="color: <%= key_activity.tag_color %>" data-id=<%= key_activity.id %>><%= key_activity.content %></li>
                  </div>
                  <div class="item-options">
                    <a href='#' rel="tooltip" title="Change label" class="switch-color"><i class="icon-tag"></i></a>
                    <a href='#' rel="tooltip" title="Delete item" class="remove-item"><i class="icon-remove"></i></a>
                  </div>
                </div>
              <% end %>
            </ul>
          </div>
        </td> 
        <td class="area" id="unique_value_propositions" colspan="2" rowspan="2">
          <div class="header">
            <a href='#' class='pop-over' id='uvp' rel='popover'><h4>Unique Value Propositions</h4></a>
          </div>
          <div class="items" id="one">
            <ul>
              <% @canvas.unique_value_propositions.each do |uvp| %> 
                <div class="item-container">
                  <div class="item">
                    <li style="color: <%= uvp.tag_color %>" data-id=<%= uvp.id %>><%= uvp.content %></li>
                  </div>
                  <div class="item-options">
                    <a href='#' rel="tooltip" title="Change label" class="switch-color"><i class="icon-tag"></i></a>
                    <a href='#' rel="tooltip" title="Delete item" class="remove-item"><i class="icon-remove"></i></a>
                  </div>
                </div>
              <% end %>
            </ul>
          </div>
        </td>
        <td class="area" id="unfair_advantages">
          <div class="header">
            <a href='#' class='pop-over' id='unfair-advantages' rel='popover'><h4>Unfair Advantages</h4></a>
          </div>
          <div class="items b" id="three">
            <ul>
              <% @canvas.unfair_advantages.each do |unfair_advantage| %> 
                <div class="item-container">
                  <div class="item">
                    <li style="color: <%= unfair_advantage.tag_color %>" data-id=<%= unfair_advantage.id %>><%= unfair_advantage.content %></li>
                  </div>
                  <div class="item-options">
                    <a href='#' rel="tooltip" title="Change label" class="switch-color"><i class="icon-tag"></i></a>
                  <a href='#' rel="tooltip" title="Delete item" class="remove-item"><i class="icon-remove"></i></a>
                  </div>
                </div>
              <% end %>
            </ul>
          </div>
        </td>
        <td class="area" id="customer_segments" rowspan="2">
          <div class="header">
            <a href='#' class='pop-over' id='customer-segments' rel='popover'><h4>Customer Segments</h4></a>
          </div>
          <div class="items b" id="three">
            <ul>
              <% @canvas.customer_segments.each do |customer_segment| %> 
                <div class="item-container">
                  <div class="item">
                    <li style="color: <%= customer_segment.tag_color %>" data-id=<%= customer_segment.id %>><%= customer_segment.content %></li>
                  </div>
                  <div class="item-options">
                    <a href='#' rel="tooltip" title="Change label" class="switch-color"><i class="icon-tag"></i></a>
                    <a href='#' rel="tooltip" title="Delete item" class="remove-item"><i class="icon-remove"></i></a>
                  </div>
                </div>
              <% end %>
            </ul>
          </div>
        </td>
      </tr> 
      <tr> 
        <td class="area" id="key_metrics">
          <div class="km">
            <div class="header">
              <a href='#' class='pop-over' id='key-metrics' rel='popover'><h4>Key Metrics</h4></a>
            </div>
            <div class="items b" id="three">
              <ul>
                <% @canvas.key_metrics.each do |key_metric| %> 
                  <div class="item-container">
                    <div class="item">
                      <li style="color: <%= key_metric.tag_color %>" data-id=<%= key_metric.id %>><%= key_metric.content %></li>
                    </div>
                    <div class="item-options">
                      <a href='#' rel="tooltip" title="Change label" class="switch-color"><i class="icon-tag"></i></a>
                      <a href='#' rel="tooltip" title="Delete item" class="remove-item"><i class="icon-remove"></i></a>
                    </div>
                  </div>
                <% end %>
              </ul>
            </div>
          </div>
        </td>
        <td class="area" id="channels">
          <div class="c">
            <div class="header">
              <a href='#' class='pop-over' id='channels' rel='popover'><h4>Channels</h4></a>
            </div>
            <div class="items b" id="three">
              <ul>
                <% @canvas.channels.each do |channel| %> 
                  <div class="item-container">
                    <div class="item">
                      <li style="color: <%= channel.tag_color %>" data-id=<%= channel.id %>><%= channel.content %></li>
                    </div>
                    <div class="item-options">
                      <a href='#' rel="tooltip" title="Change label" class="switch-color"><i class="icon-tag"></i></a>
                      <a href='#' rel="tooltip" title="Delete item" class="remove-item"><i class="icon-remove"></i></a>
                    </div>
                  </div>
                <% end %>
              </ul>
            </div>
          </div>
        </td>
      </tr> 
      <tr> 
        <td class="area" id="cost_structures" colspan="3">
          <div class="cs">
            <div class="header">
              <a href='#' class='pop-over' id='cost-structures' rel='popover'><h4>Cost Structures</h4></a>
            </div>
            <div class="items" id="two">
              <ul>
                <% @canvas.cost_structures.each do |cost_structure| %> 
                  <div class="item-container">
                    <div class="item">
                      <li style="color: <%= cost_structure.tag_color %>" data-id=<%= cost_structure.id %>><%= cost_structure.content %></li>
                    </div>
                    <div class="item-options">
                      <a href='#' rel="tooltip" title="Change label" class="switch-color"><i class="icon-tag"></i></a>
                      <a href='#' rel="tooltip" title="Delete item" class="remove-item"><i class="icon-remove"></i></a>
                    </div>
                  </div>
                <% end %>
              </ul>
            </div>
          </div>
        </td>
        <td class="area" id="revenue_streams" colspan="3">
          <div class="rs"> <!-- added this div to style for firefox browser --> 
            <div class="header">
              <a href='#' class='pop-over' id='revenue-streams' rel='popover'><h4>Revenue Streams</h4></a>
            </div>
            <div class="items" id="two">
              <ul>
                <% @canvas.revenue_streams.each do |revenue_stream| %> 
                  <div class="item-container">
                    <div class="item">
                      <li style="color: <%= revenue_stream.tag_color %>" data-id=<%= revenue_stream.id %>><%= revenue_stream.content %></li>
                    </div>
                    <div class="item-options">
                      <a href='#' rel="tooltip" title="Change label" class="switch-color"><i class="icon-tag"></i></a>
                      <a href='#' rel="tooltip" title="Delete item" class="remove-item"><i class="icon-remove"></i></a>
                    </div>
                  </div>
                <% end %>
              </ul>
            </div>  
          </div>
        </td>
      </tr> 
    </tbody>
  </table>
</div> 

